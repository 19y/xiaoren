
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>JSONP 实例</title>
    <script src="http://cdn.static.runoob.com/libs/jquery/1.8.3/jquery.js"></script>    
</head>
<body>
<div id="divCustomers"></div>
<script>
function addScriptTag(src) {
	  var script = document.createElement('script');
	  script.setAttribute("type","text/javascript");
	  script.src = src;
	  document.body.appendChild(script);
	}

	window.onload = function () {
	  addScriptTag('http://example.com/ip?callback=foo');
	}

	function foo(data) {
	  console.log('Your public IP address is: ' + data.ip);
	};
	$.getJSON("http://http://example.com/ip?callback=foo", function(data) {
	    
	    var html = '<ul>';
	    for(var i = 0; i < data.length; i++)
	    {
	        html += '<li>' + data[i] + '</li>';
	    }
	    html += '</ul>';
	    
	    $('#divCustomers').html(html); 
	});

</script>
</body>
</html>
